<!DOCTYPE html>
<html>
<head>
    <title>SWF Player</title>
    <script src="ruffle.js"></script>
    <style>
        #player-container {
            width: 800px;
            height: 600px;
            margin: 20px auto;
        }
    </style>
</head>
<body>
    <div id="player-container"></div>

    <script>
        window.RufflePlayer = window.RufflePlayer || {};
        window.addEventListener("DOMContentLoaded", () => {
            const container = document.getElementById("player-container");
            const player = window.RufflePlayer.newest();
            const ruffle = player.createPlayer();
            
            // 配置播放器参数
            ruffle.config = {
                autoplay: "on",
                unmuteOverlay: "hidden",
                backgroundColor: "#000000",
                publicPath: "", // 确保wasm文件在根目录
            };

            container.appendChild(ruffle);
            ruffle.load("game.swf").catch((e) => {
                console.error("Error loading SWF:", e);
                container.innerHTML = "<p>Error loading game file</p>";
            });
        });
    </script>
</body>
</html>
